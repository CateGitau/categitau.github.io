---
layout: post
title: Twitter data Mining 101 using R
date: 2017-08-30 15:02:53.000000000 +00:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Data Science
- Tutorials
tags:
- mining
- Text analytics
meta:
  _thumbnail_id: '670'
  _publicize_job_id: '8786551427'
  _rest_api_published: '1'
  _rest_api_client_id: "-1"
  _edit_last: '1'
  _jetpack_related_posts_cache: a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1583568100;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:865;}i:1;a:1:{s:2:"id";i:1835;}i:2;a:1:{s:2:"id";i:339;}}}}
  _syntaxhighlighter_encoded: '1'
  swp_cache_timestamp: '431868'
  swp_pinterest_image_url: ''
  _facebook_shares: '0'
  _totes: '0'
  _pinterest_shares: '0'
  _twitter_shares: '0'
  _linkedin_shares: '0'
  _google_plus_shares: '0'
  _total_shares: '0'
author:
  login: categitau
  email: catherinegitau94@gmail.com
  display_name: categitau
  first_name: ''
  last_name: ''
permalink: "/twitter-data-mining-101-using-r/"
---
<p><strong>R</strong> is a tool used widely in data analysis and statistical computing.<!--more--> To learn data science, one has to choose either R or Python as a starter. I chose to learn both and I use them depending on the project I am working on. However, my love for R is gradually increasing every single day!</p>
<p>So, for this specific task, I decided to use <strong>R</strong> to gain more knowledge on the language. This is a project I did while still in the University just out of curiosity but I just figured out how cool it would be to actually analyze data from twitter. This would've probably been more fun during election period, but we can still have fun getting insights from trending topics on twitter. But first, let me show you guys how I extracted this data.</p>
<p>PREREQUISITES:</p>
<ul>
<li>Already installed R and R Studio.</li>
<li>A Twitter account to create your Twitter application so as to be able to extract tweets. You can get instructions on how to get a Twitter application <a href="http://docs.inboundnow.com/guide/create-twitter-application/" target="_blank" rel="noopener">here</a>. After getting your consumer key and consumer secret, then you're good to go.</li>
</ul>
<p><strong>NB</strong>:Your OAuth settings, i.e. your consumer key and consumer secret, should be kept private and if anyone was to access them they could easily access your twitter account.</p>
<p>After getting your OAuth Keys, we can now get started with installing and loading the R packages necessary for our task. One of the reasons why I love R is the availability of its many packages which are customized to perform various tasks.</p>
<p>Let's install and load the required packages:</p>
<p>[sourcecode language="r"]</p>
<p>#install required packages<br />
install.packages(&quot;twitteR&quot;)<br />
install.packages(&quot;RCurl&quot;)<br />
install.packages(&quot;httr&quot;)<br />
install.packages(&quot;devtools&quot;)<br />
devtools::install_github(&quot;r-lib/httr&quot;)</p>
<p>#Load necessary packages<br />
library(twitteR)<br />
library(RCurl)<br />
library(base64enc)</p>
<p>[/sourcecode]</p>
<p>Remember your consumer key, consumer secret, access token and access token secret? Yeah, so this is where we'll require them. Provide these credentials in place of these empty string values that are defined as placeholders.</p>
<p>[sourcecode language="r"]</p>
<p>Access_token &lt;- &quot;&quot;<br />
Access_token_secret &lt;- &quot;&quot;<br />
consumer_key &lt;- &quot;&quot;<br />
consumer_secret &lt;- &quot;&quot; setup_twitter_oauth(consumer_key,consumer_secret,Access_token,Access_token_secret) #the output should be --&amp;gt; [1] &quot;Using direct authentication&quot;</p>
<p>#with no error</p>
<p>[/sourcecode]</p>
<p>With that done, we can start extracting data from twitter!</p>
<p>Let's start by extracting Trending topics in Kenya. The <strong>twitteR </strong>package has <strong>getTrends</strong> function that can be used to extract the twitter trendsÂ based on an input parameter (woeid). A <a href="https://en.wikipedia.org/wiki/WOEID">WOEID</a>(Where On Earth IDentifier) identifies any feature on earth. I used the WOEID for Kenya to extract trending topics from Kenya. You can use this <a href="http://woeid.rosselliot.co.nz/">link</a> for WOEID lookup.</p>
<p>To extract Trending topics in Kenya, you run the following code:</p>
<p>[sourcecode language="r"]</p>
<p>#Extracting Trends using getTrends Function<br />
KE_WOE_ID = 23424863<br />
current_trends &lt;- getTrends(KE_WOE_ID)</p>
<p>[/sourcecode]</p>
<p>To extract tweets from a certain user using their handle:</p>
<p>[sourcecode language="r"]</p>
<p>tweets &lt;- userTimeline(&quot;POTUS&quot;, 50)</p>
<p>[/sourcecode]</p>
<p>To extract tweets in a certain Trending topic you use the following code. In my analysis I decided to look into #IEBC:</p>
<p>[sourcecode language="r"]</p>
<p>IEBC_Tweets &lt;- searchTwitter(&quot;IEBC&quot;, n=100, lang = &quot;en&quot;)</p>
<p>[/sourcecode]</p>
<p>There are many other functions that can be used to extract more data from Twitter. If this excites you, you can look into the <a href="https://github.com/SMAPPNYU/smappR" target="_blank" rel="noopener">smappr</a> package that offers many more functions and tools for analysis of twitter data. If you'd like to play around with my code, you can find it <a href="https://gist.github.com/CateGitau/d1c2b7d4244eb732b5ed6cad8bcf16f6" target="_blank" rel="noopener">here</a>.</p>
<p>Till next time, keep fit and have fun coding ! :)</p>
